# Editor Context - Ubiquitous Language

> ðŸ“‹ **ë¬¸ì„œ ëª©ì **: Editor Contextì˜ ê³µí†µ ì–¸ì–´ ì‚¬ì „

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-26

---

## í•µì‹¬ ìš©ì–´

### Editor Session (ì—ë””í„° ì„¸ì…˜)
ì‚¬ìš©ìžê°€ ì›¹ ì—ë””í„°ë¥¼ ì—´ê³  ìž‘ì—…í•˜ëŠ” ë™ì•ˆì˜ ì„¸ì…˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë‹¨ìœ„.

**ì˜ì—­**: Aggregate Root

**ìƒëª…ì£¼ê¸°**: ì›¹ íŽ˜ì´ì§€ ë¡œë“œ ~ íŽ˜ì´ì§€ ë‹«íž˜

---

### Current Code (í˜„ìž¬ ì½”ë“œ)
ì‚¬ìš©ìžê°€ ì—ë””í„°ì—ì„œ í˜„ìž¬ ìž…ë ¥/íŽ¸ì§‘ ì¤‘ì¸ Mermaid ì½”ë“œ.

**ì˜ì—­**: EditorSessionì˜ ì†ì„±

**í˜•ì‹**: string

**íŠ¹ì§•**: ë¹ˆ ë¬¸ìžì—´ í—ˆìš© (ì‚¬ìš©ìžê°€ ì•„ì§ ìž…ë ¥í•˜ì§€ ì•Šì€ ê²½ìš°)

---

### Cursor Position (ì»¤ì„œ ìœ„ì¹˜)
ì—ë””í„°ì—ì„œ ì‚¬ìš©ìžì˜ í˜„ìž¬ ì»¤ì„œ ìœ„ì¹˜.

**ì˜ì—­**: Value Object

**í¬í•¨ ì •ë³´**:
- line: ë¼ì¸ ë²ˆí˜¸ (0-indexed)
- column: ì»¬ëŸ¼ ë²ˆí˜¸ (0-indexed)

---

### Code History (ì½”ë“œ ížˆìŠ¤í† ë¦¬)
ì‚¬ìš©ìžì˜ ì½”ë“œ ë³€ê²½ ì´ë ¥ì„ ì¶”ì í•˜ì—¬ Undo/Redo ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” êµ¬ì¡°.

**ì˜ì—­**: Value Object

**í¬í•¨ ì •ë³´**:
- undoStack: ë˜ëŒë¦¬ê¸° ìŠ¤íƒ (ìµœëŒ€ 50ê°œ)
- redoStack: ë‹¤ì‹œ ì‹¤í–‰ ìŠ¤íƒ (ìµœëŒ€ 50ê°œ)

---

### Debouncing (ë””ë°”ìš´ì‹±)
ì‚¬ìš©ìžê°€ ì½”ë“œë¥¼ ë¹ ë¥´ê²Œ ìž…ë ¥í•  ë•Œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ ìš”ì²­ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì¼ì • ì‹œê°„ ëŒ€ê¸°í•˜ëŠ” ê¸°ë²•.

**ì§€ì—° ì‹œê°„**: 300ms

**ëª©ì **: ì„±ëŠ¥ ìµœì í™”, ê³¼ë„í•œ ë Œë”ë§ ë°©ì§€

---

### Debounce Timer (ë””ë°”ìš´ì‹± íƒ€ì´ë¨¸)
ì½”ë“œ ë³€ê²½ í›„ ë Œë”ë§ ìš”ì²­ê¹Œì§€ì˜ ëŒ€ê¸° ì‹œê°„ì„ ê´€ë¦¬í•˜ëŠ” íƒ€ì´ë¨¸.

**ì˜ì—­**: EditorSessionì˜ ì†ì„±

**í˜•ì‹**: number | null (íƒ€ì´ë¨¸ ID)

---

### Render Pending (ë Œë”ë§ ëŒ€ê¸° ì¤‘)
ë Œë”ë§ ìš”ì²­ì´ ë°œìƒí–ˆì§€ë§Œ ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœ.

**ì˜ì—­**: EditorSessionì˜ ì†ì„±

**í˜•ì‹**: boolean

---

### Last Render Requested At (ë§ˆì§€ë§‰ ë Œë”ë§ ìš”ì²­ ì‹œê°)
ê°€ìž¥ ìµœê·¼ì— ë Œë”ë§ì„ ìš”ì²­í•œ ì‹œê°„.

**ì˜ì—­**: EditorSessionì˜ ì†ì„±

**ëª©ì **: ë Œë”ë§ ë¹ˆë„ ì¶”ì 

---

## í–‰ìœ„ ìš©ì–´

### Create Editor Session (ì—ë””í„° ì„¸ì…˜ ìƒì„±)
ì‚¬ìš©ìžê°€ ì›¹ ì—ë””í„°ë¥¼ ì—´ ë•Œ ìƒˆë¡œìš´ EditorSessionì„ ìƒì„±í•˜ëŠ” í–‰ìœ„.

**ì´ˆê¸° ìƒíƒœ**: ë¹ˆ ì½”ë“œ, ì»¤ì„œ (0, 0)

**ê²°ê³¼**: `EditorSessionStarted` ì´ë²¤íŠ¸ ë°œí–‰

---

### Update Code (ì½”ë“œ ì—…ë°ì´íŠ¸)
ì‚¬ìš©ìžê°€ ì—ë””í„°ì—ì„œ ì½”ë“œë¥¼ ìž…ë ¥í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” í–‰ìœ„.

**íŠ¸ë¦¬ê±°**: í‚¤ë³´ë“œ ìž…ë ¥, ë¶™ì—¬ë„£ê¸°

**ë™ìž‘**:
1. í˜„ìž¬ ì½”ë“œë¥¼ ížˆìŠ¤í† ë¦¬ì— ì €ìž¥
2. ìƒˆ ì½”ë“œë¡œ ì—…ë°ì´íŠ¸
3. ë””ë°”ìš´ì‹± íƒ€ì´ë¨¸ ì„¤ì •

**ê²°ê³¼**: `CodeChanged` ì´ë²¤íŠ¸ ë°œí–‰

---

### Request Render (ë Œë”ë§ ìš”ì²­)
ë””ë°”ìš´ì‹± íƒ€ì´ë¨¸ê°€ ì™„ë£Œëœ í›„ Rendering Contextì— ë Œë”ë§ì„ ìš”ì²­í•˜ëŠ” í–‰ìœ„.

**ì „ì œ ì¡°ê±´**: ë””ë°”ìš´ì‹± ì§€ì—° ì‹œê°„ ê²½ê³¼

**ê²°ê³¼**: `RenderRequested` ì´ë²¤íŠ¸ ë°œí–‰

---

### Undo (ë˜ëŒë¦¬ê¸°)
ì‚¬ìš©ìžê°€ ì´ì „ ì½”ë“œ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” í–‰ìœ„.

**ë™ìž‘**:
1. undoStackì—ì„œ ì´ì „ ì½”ë“œ ë³µì›
2. í˜„ìž¬ ì½”ë“œë¥¼ redoStackì— ì €ìž¥
3. ë Œë”ë§ ìš”ì²­

**ê²°ê³¼**: `CodeUndone` ì´ë²¤íŠ¸ ë°œí–‰

---

### Redo (ë‹¤ì‹œ ì‹¤í–‰)
ì‚¬ìš©ìžê°€ Undoí•œ ì½”ë“œë¥¼ ë‹¤ì‹œ ë³µì›í•˜ëŠ” í–‰ìœ„.

**ë™ìž‘**:
1. redoStackì—ì„œ ë‹¤ìŒ ì½”ë“œ ë³µì›
2. í˜„ìž¬ ì½”ë“œë¥¼ undoStackì— ì €ìž¥
3. ë Œë”ë§ ìš”ì²­

**ê²°ê³¼**: `CodeRedone` ì´ë²¤íŠ¸ ë°œí–‰

---

### Update Cursor (ì»¤ì„œ ì—…ë°ì´íŠ¸)
ì‚¬ìš©ìžê°€ ì—ë””í„°ì—ì„œ ì»¤ì„œë¥¼ ì´ë™í•˜ëŠ” í–‰ìœ„.

**íŠ¸ë¦¬ê±°**: ë§ˆìš°ìŠ¤ í´ë¦­, ë°©í–¥í‚¤

**íŠ¹ì§•**: ì´ë²¤íŠ¸ ë°œí–‰í•˜ì§€ ì•ŠìŒ (UI ìƒíƒœë§Œ ë³€ê²½)

---

### Clear History (ížˆìŠ¤í† ë¦¬ ì‚­ì œ)
ëª¨ë“  Undo/Redo ížˆìŠ¤í† ë¦¬ë¥¼ ì‚­ì œí•˜ëŠ” í–‰ìœ„.

**ë™ìž‘**: undoStack, redoStack ë¹„ìš°ê¸°

**ì‚¬ìš© ì‹œì **: ì„¸ì…˜ ì´ˆê¸°í™”, ë©”ëª¨ë¦¬ ì •ë¦¬

---

## ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìš©ì–´

### Valid Cursor Position (ìœ íš¨í•œ ì»¤ì„œ ìœ„ì¹˜)
ì—ë””í„°ì—ì„œ í—ˆìš©ë˜ëŠ” ì»¤ì„œ ìœ„ì¹˜.

**ì¡°ê±´**: line >= 0 AND column >= 0

---

### Debounce Delay (ë””ë°”ìš´ì‹± ì§€ì—° ì‹œê°„)
ì½”ë“œ ë³€ê²½ í›„ ë Œë”ë§ ìš”ì²­ê¹Œì§€ ëŒ€ê¸°í•˜ëŠ” ì‹œê°„.

**ê°’**: 300ms

**ì´ìœ **: ë„ˆë¬´ ì§§ìœ¼ë©´ ì„±ëŠ¥ ì €í•˜, ë„ˆë¬´ ê¸¸ë©´ ì‚¬ìš©ìž ê²½í—˜ ì €í•˜

---

### Max History Size (ìµœëŒ€ ížˆìŠ¤í† ë¦¬ í¬ê¸°)
Undo/Redo ìŠ¤íƒì— ì €ìž¥í•  ìˆ˜ ìžˆëŠ” ìµœëŒ€ í•­ëª© ìˆ˜.

**ê°’**: 50

**ì´ìœ **: ë©”ëª¨ë¦¬ ê´€ë¦¬, ì‹¤ìš©ì ì¸ ë˜ëŒë¦¬ê¸° ë²”ìœ„

---

### Live Preview (ì‹¤ì‹œê°„ í”„ë¦¬ë·°)
ì½”ë“œ ë³€ê²½ ì‹œ ìžë™ìœ¼ë¡œ ë‹¤ì´ì–´ê·¸ëž¨ì´ ì—…ë°ì´íŠ¸ë˜ëŠ” ê¸°ëŠ¥.

**êµ¬í˜„**: ë””ë°”ìš´ì‹± + ìžë™ ë Œë”ë§ ìš”ì²­

---

## ìŠ¹ì¸ ìƒíƒœ

**ì „ì²´ ìŠ¹ì¸ ìƒíƒœ**: âœ… (ìŠ¹ì¸ ì™„ë£Œ)

**ìŠ¹ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] í•µì‹¬ ìš©ì–´ ì •ì˜ ìŠ¹ì¸
- [x] í–‰ìœ„ ìš©ì–´ ì •ì˜ ìŠ¹ì¸
- [x] ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìš©ì–´ ìŠ¹ì¸

**ìŠ¹ì¸ ë‚ ì§œ**: 2025-10-26

---

> ðŸ“Ž **ê´€ë ¨ ë¬¸ì„œ**:
> - `documents/domain-modeling/bounded-contexts.md`
> - `documents/domain-modeling/editor/aggregates.md`
> - `documents/domain-modeling/editor/events.md`
